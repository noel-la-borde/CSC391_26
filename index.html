<!DOCTYPE html>
<html>
<head>
  <title>Noel La Borde Project</title>
  <meta charset="utf-8">
</head>

<body style="margin:0; overflow:hidden;">
<div id="container"></div>

<!-- IMPORT MAP (REQUIRED) -->
<script type="importmap">
{
  "imports": {
    "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
    "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
  }
}
</script>

<script type="module">
import * as THREE from 'three';
import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
import Stats from 'three/addons/libs/stats.module.js';

let scene, camera, controls;

init();
animate();

function init(){

  const container = document.getElementById("container");

  // SCENE
  scene = new THREE.Scene();
  scene.background = new THREE.Color(0x050505);

  // CAMERA
  camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 100);
  camera.position.set(5,4,8);

  // CONTROLS (mouse orbit)
  controls = new OrbitControls(camera);
  controls.enableDamping = true;

  
  // LIGHTING
  const ambient = new THREE.AmbientLight(0xffffff, .3);
  scene.add(ambient);

  const light = new THREE.PointLight(0xff8800, 50, 100);
  light.position.set(2,5,2);
  light.castShadow = true;
  scene.add(light);


  // FLOOR
  const textureLoader = new THREE.TextureLoader();

  const woodColor = textureLoader.load('Textures/hardwood2_diffuse.jpg');
  const woodBump = textureLoader.load('Textures/hardwood2_bump.jpg');
  const woodRough = textureLoader.load('Textures/hardwood2_roughness.jpg');

  // repeat textures
  woodColor.wrapS = woodColor.wrapT = THREE.RepeatWrapping;
  woodBump.wrapS = woodBump.wrapT = THREE.RepeatWrapping;
  woodRough.wrapS = woodRough.wrapT = THREE.RepeatWrapping;

  woodColor.repeat.set(10,10);
  woodBump.repeat.set(10,10);
  woodRough.repeat.set(10,10);

  woodColor.colorSpace = THREE.SRGBColorSpace;

  const floorMat = new THREE.MeshStandardMaterial({
    map: woodColor,
    bumpMap: woodBump,
    roughnessMap: woodRough,
    roughness: 0.8,
    metalness: 0.2
  });

  // CREATE FLOOR MESH (THIS WAS MISSING)
  const floor = new THREE.Mesh(
    new THREE.PlaneGeometry(30,30),
    floorMat
  );

  floor.rotation.x = -Math.PI/2;
  floor.receiveShadow = true;
  scene.add(floor);

  window.addEventListener("resize", onWindowResize);
}

function onWindowResize(){
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
}

function animate(){
  requestAnimationFrame(animate);

  controls.update();
}
</script>
</body>
</html>


    
  
    
      
     
    


